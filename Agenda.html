<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>&#11822;Digital Agenda - thewizardwilliam.github.io</title>
    <link rel="icon" href="Sarcasm%20Icon.svg">
</head>
<body>
    <button onclick="localStorage.setItem(prompt('Assignment (avoid using quotes and commas)'),prompt('Due date (avoid using quotes and commas)'));location.reload()">Add assignment/Edit due date</button>
    <button onclick="localStorage.removeItem(prompt('Assignment'));location.reload()">Remove/complete assignment</button>
    <button onclick="let o = prompt('Assignment');let n = prompt('New name (avoid using quotes and commas)');localStorage.setItem(n,localStorage.getItem(o));localStorage.removeItem(o);location.reload()">Edit Assignment Name</button>
    <button onclick="c(confirm('Are you sure you\'d like to clear all assignments?'))">Clear agenda</button>
    <button onclick="open(URL.createObjectURL(new File([JSON.stringify(localStorage)],prompt('New name') + '.json',{type:'text/json'})))">Export</button>
    <button onclick="document.getElementsByTagName('body')[0].innerHTML = 'https://thewizardwilliam.github.io/Agenda.html?A='+encodeURI(prompt('Assignment (avoid using quotes and commas)').toString())+'&D='+encodeURI(prompt('Due date (avoid using quotes and commas)').toString())">Create assignment URL</button>
    <script>
        let p = new URLSearchParams(location.search);
        if (p.has("A") && p.has("D")) {
            localStorage.setItem(decodeURI(p.get("A").toString()),decodeURI(p.get("D").toString()));
            location.replace("https://thewizardwilliam.github.io/Agenda.html");
        }
        document.write("<br />"+JSON.stringify(localStorage).replaceAll("{","").replaceAll("}","").replaceAll('"',"").replaceAll(",","<br />"));
        function c(bool) {
            if (bool === true) {
                localStorage.clear();
                location.reload();
            }
        }
    </script>
</body>
</html>
