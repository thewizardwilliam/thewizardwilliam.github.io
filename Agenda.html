<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>&#11822;Digital Agenda - thewizardwilliam.github.io</title>
    <link rel="icon" href="Sarcasm%20Icon.svg">
    <noscript><meta http-equiv="refresh" content="0;URL='https://thewizardwilliam.github.io/nos.html?redirect=Agenda.html'" /></noscript>
</head>
<body>
    <a href="index.html" style="font-size: 25px;color: #000;font-family: monospace">
        <img src="Sarcasm Icon.svg"  width="16" height="16" />
        <b>thewizardwilliam.github.io</b>
    </a>
    <br />
    <button onclick="localStorage.setItem(prompt('Assignment (avoid using quotes and commas)'),prompt('Due date (avoid using quotes and commas)'));location.reload()">Add assignment/Edit due date</button>
    <button onclick="localStorage.removeItem(prompt('Assignment'));location.reload()">Remove/complete assignment</button>
    <button onclick="let o = prompt('Assignment');let n = prompt('New name (avoid using quotes and commas)');localStorage.setItem(n,localStorage.getItem(o));localStorage.removeItem(o);location.reload()">Edit Assignment Name</button>
    <button onclick="c(confirm('Are you sure you\'d like to clear all assignments?'))">Clear agenda</button>
    <button onclick="window.open('import.html','_top')">Import</button>
    <button onclick="let a = document.createElement('a');a.href = window.URL.createObjectURL(new File([JSON.stringify(localStorage)],'Agenda.json',{type:'text/json'}));a.download = 'Agenda.json';a.click();a.remove()">Export</button>
    <button onclick="document.getElementsByTagName('body')[0].innerHTML = 'https://thewizardwilliam.github.io/Agenda.html?A='+btoa(prompt('Assignment (avoid using quotes and commas)').toString()).replaceAll('+','.')+'&D='+btoa(prompt('Due date (avoid using quotes and commas)').toString()).replaceAll('+','.')">Create assignment URL</button>
    <script>
        let p = new URLSearchParams(location.search);
        if (p.has("A") && p.has("D")) {
            localStorage.setItem(atob(p.get("A").toString().replaceAll(".","+")),atob(p.get("D").toString().replaceAll(".","+")));
            location.replace("https://thewizardwilliam.github.io/Agenda.html");
        }
        document.write("<br />"+JSON.stringify(localStorage).replaceAll("{","").replaceAll("}","").replaceAll('"',"").replaceAll(",","<br />"));
        function c(bool) {
            if (bool === true) {
                localStorage.clear();
                location.reload();
            }
        }
    </script>
</body>
</html>
